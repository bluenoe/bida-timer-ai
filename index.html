<!DOCTYPE html>
<html lang="vi" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Billiards Timer Pro - AI-Generated Pool Hall Management</title>
    <meta name="description" content="Professional billiards timer with multi-table support, real-time cost calculation, and smart billing features">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2563eb">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-spinner"></div>
        <p data-i18n="loading">ƒêang t·∫£i...</p>
    </div>

    <!-- Main App Container -->
    <div id="app" class="app" style="display: none;">
        <!-- Header Navigation -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">üé±</span>
                    <h1 class="logo-text" data-i18n="appTitle">Billiards Timer Pro</h1>
                    <span class="ai-badge" data-i18n="aiBadge">AI-Generated</span>
                </div>
                
                <nav class="nav-controls">
                    <button class="nav-btn" id="themeToggle" aria-label="Toggle theme">
                        <span class="theme-icon">üåô</span>
                    </button>
                    <button class="nav-btn" id="languageToggle" aria-label="Switch language">
                        <span class="lang-text">EN</span>
                    </button>
                    <button class="nav-btn" id="settingsBtn" aria-label="Settings">
                        <span>‚öôÔ∏è</span>
                    </button>
                </nav>
            </div>
        </header>

        <!-- Enhanced Quick Actions Bar -->
        <div class="quick-actions">
            <button class="quick-btn" id="startAllBtn" data-tooltip="Start all tables">
                <span class="btn-icon">‚ñ∂Ô∏è</span>
                <span data-i18n="startAll">B·∫Øt ƒë·∫ßu t·∫•t c·∫£</span>
                <div class="btn-ripple"></div>
            </button>
            <button class="quick-btn" id="pauseAllBtn" data-tooltip="Pause all tables">
                <span class="btn-icon">‚è∏Ô∏è</span>
                <span data-i18n="pauseAll">T·∫°m d·ª´ng t·∫•t c·∫£</span>
                <div class="btn-ripple"></div>
            </button>
            <button class="quick-btn" id="addTableBtn" data-tooltip="Add new table">
                <span class="btn-icon">‚ûï</span>
                <span data-i18n="addTable">Th√™m b√†n</span>
                <div class="btn-ripple"></div>
            </button>
        </div>

        <!-- Enhanced Global Summary -->
        <div class="global-summary">
            <div class="summary-card" data-tooltip="Total revenue from all tables">
                <div class="summary-icon">üí∞</div>
                <div class="summary-value" id="totalCost">0 ‚Ç´</div>
                <div class="summary-label" data-i18n="totalCost">T·ªïng chi ph√≠</div>
                <div class="summary-progress"><div class="progress-bar"></div></div>
            </div>
            <div class="summary-card" data-tooltip="Number of active gaming tables">
                <div class="summary-icon">üé±</div>
                <div class="summary-value" id="activeTables">0</div>
                <div class="summary-label" data-i18n="activeTables">B√†n ƒëang ch∆°i</div>
                <div class="summary-progress"><div class="progress-bar"></div></div>
            </div>
            <div class="summary-card" data-tooltip="Total playing time across all tables">
                <div class="summary-icon">‚è±Ô∏è</div>
                <div class="summary-value" id="totalTime">00:00:00</div>
                <div class="summary-label" data-i18n="totalTime">T·ªïng th·ªùi gian</div>
                <div class="summary-progress"><div class="progress-bar"></div></div>
            </div>
        </div>

        <!-- Tables Grid -->
        <div class="tables-container">
            <div class="tables-grid" id="tablesGrid">
                <!-- Table cards will be dynamically generated -->
            </div>
            
            <!-- Empty State -->
            <div class="empty-state" id="emptyState">
                <div class="empty-icon">üéØ</div>
                <h3 data-i18n="noTables">Ch∆∞a c√≥ b√†n n√†o</h3>
                <p data-i18n="addFirstTable">Nh·∫•n "Th√™m b√†n" ƒë·ªÉ b·∫Øt ƒë·∫ßu</p>
            </div>
        </div>

        <!-- Floating Action Button -->
        <button class="fab" id="fabBtn" aria-label="Quick actions">
            <span class="fab-icon">‚ö°</span>
        </button>
    </div>

    <!-- Modal Overlays -->
    <div id="modalOverlay" class="modal-overlay">
        <!-- Table Settings Modal -->
        <div id="tableModal" class="modal table-modal">
            <div class="modal-header">
                <h2 data-i18n="tableSettings">C√†i ƒë·∫∑t b√†n</h2>
                <button class="modal-close" id="closeTableModal">&times;</button>
            </div>
            <div class="modal-content">
                <form id="tableForm">
                    <div class="form-group">
                        <label for="tableName" data-i18n="tableName">T√™n b√†n</label>
                        <input type="text" id="tableName" required>
                    </div>
                    <div class="form-group">
                        <label for="tableRate" data-i18n="hourlyRate">Gi√° theo gi·ªù (‚Ç´)</label>
                        <input type="number" id="tableRate" min="1000" step="1000" value="29000" required>
                    </div>
                    <div class="form-group">
                        <label for="tableNotes" data-i18n="notes">Ghi ch√∫</label>
                        <textarea id="tableNotes" rows="3"></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelTableBtn" data-i18n="cancel">H·ªßy</button>
                        <button type="submit" class="btn btn-primary" data-i18n="save">L∆∞u</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Settings Modal -->
        <div id="settingsModal" class="modal settings-modal">
            <div class="modal-header">
                <h2 data-i18n="settings">C√†i ƒë·∫∑t</h2>
                <button class="modal-close" id="closeSettingsModal">&times;</button>
            </div>
            <div class="modal-content">
                <div class="settings-section">
                    <h3 data-i18n="billing">Thanh to√°n</h3>
                    <div class="form-group">
                        <label for="roundingMinutes" data-i18n="roundTo">L√†m tr√≤n ƒë·∫øn</label>
                        <select id="roundingMinutes">
                            <option value="1">1 ph√∫t</option>
                            <option value="5">5 ph√∫t</option>
                            <option value="10">10 ph√∫t</option>
                            <option value="15">15 ph√∫t</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="serviceFee" data-i18n="serviceFee">Ph√≠ d·ªãch v·ª• (%)</label>
                        <input type="number" id="serviceFee" min="0" max="50" step="0.5" value="0">
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3 data-i18n="display">Hi·ªÉn th·ªã</h3>
                    <div class="form-group">
                        <label for="currency" data-i18n="currency">Ti·ªÅn t·ªá</label>
                        <select id="currency">
                            <option value="VND">Vietnamese Dong (‚Ç´)</option>
                            <option value="USD">US Dollar ($)</option>
                        </select>
                    </div>
                </div>

                <div class="settings-section">
                    <h3 data-i18n="data">D·ªØ li·ªáu</h3>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="exportHistoryBtn" data-i18n="exportHistory">Xu·∫•t l·ªãch s·ª≠</button>
                        <button type="button" class="btn btn-secondary" id="clearHistoryBtn" data-i18n="clearHistory">X√≥a l·ªãch s·ª≠</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Billing Modal -->
        <div id="billingModal" class="modal billing-modal">
            <div class="modal-header">
                <h2 data-i18n="generateBill">T·∫°o h√≥a ƒë∆°n</h2>
                <button class="modal-close" id="closeBillingModal">&times;</button>
            </div>
            <div class="modal-content" id="billingContent">
                <!-- Billing content will be generated dynamically -->
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="app.js"></script>
    <script>
        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            window.billiardsApp = new BilliardsApp();
        });
    </script>
</body>
</html>